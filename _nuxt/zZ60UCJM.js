import{_ as v}from"./BzM4SZt2.js";import{d as k,r as _,s as m,a7 as w,i as g,o as s,l as $,e as a,k as e,t as l,f as u,G as i,a8 as p,n as b}from"./CQKNSPCt.js";const x={key:0,class:"error"},C={key:1,class:"poetry-content"},h={class:"sentence"},B={class:"info"},D={key:2,class:"loading"},j=k({__name:"Poetry",setup(P){const n=_(null),r=_(null);function c(o){const t=`https://www.bing.com/search?q=${encodeURIComponent(o)}`;window.open(t,"_blank")}return m(()=>{typeof window.jinrishici<"u"?window.jinrishici.load(o=>{try{n.value={content:o.data.content,author:o.data.origin.author,dynasty:o.data.origin.dynasty,title:o.data.origin.title}}catch(t){console.error("解析诗词数据失败:",t),r.value="诗词数据解析失败"}},o=>{console.error("获取诗词失败:",o),r.value="获取诗词失败"}):r.value="今日诗词 SDK 未加载"}),(o,t)=>{const f=v,d=w("tip");return s(),g(f,{card:"",title:"今日诗词"},{default:$(()=>[e(r)?(s(),a("div",x,l(e(r)),1)):e(n)?(s(),a("div",C,[u("div",h,l(e(n).content),1),u("div",B,[t[3]||(t[3]=i(" 【",-1)),p((s(),a("span",{class:"clickable",onClick:t[0]||(t[0]=y=>c(e(n).dynasty))},[i(l(e(n).dynasty),1)])),[[d,{content:`搜索: ${e(n).dynasty}`}]]),t[4]||(t[4]=i("】",-1)),p((s(),a("span",{class:"clickable",onClick:t[1]||(t[1]=y=>c(e(n).author))},[i(l(e(n).author),1)])),[[d,{content:`搜索: ${e(n).author}`}]]),t[5]||(t[5]=i("《",-1)),p((s(),a("span",{class:"clickable",onClick:t[2]||(t[2]=y=>c(e(n).title))},[i(l(e(n).title),1)])),[[d,{content:`搜索: ${e(n).title}`}]]),t[6]||(t[6]=i("》 ",-1))])])):(s(),a("div",D," 正在加载今日诗词.... "))]),_:1})}}}),O=Object.assign(b(j,[["__scopeId","data-v-3919f2f7"]]),{__name:"WidgetPoetry"});export{O as default};
