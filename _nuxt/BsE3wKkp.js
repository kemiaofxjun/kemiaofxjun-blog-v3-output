const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./CPqvBnND.js","./CJ6NVX5O.js","./entry.D3O3llSj.css","./Alert.Dq3uSApk.css","./CcpPKkvo.js","./Blur.B-jU4pb_.css","./6JexNWJB.js","./ProseA.DhJIX4mV.css","./QZdGjYG4.js","./ProseCode.a2_W97gt.css","./C-9W4heR.js","./ProseTable.BU7pZ16K.css","./BQFFzFyZ.js","./Quote.JA7pZPsL.css","./PQ-PEuXS.js","./Tab.D58UhhF5.css","./0YGzGCMc.js","./Tip.BDWNios4.css","./BJTUo3Rn.js","./VideoEmbed.CD2j1Np_.css"])))=>i.map(i=>d[i]);
import{d as G,a7 as I,an as Z,i as P,ao as V,ad as J,R as Y,p as L,ap as T,a3 as R,aq as A,ar as ee,as as N,at as te,a4 as y,a0 as re,q as ne,ai as oe,e as se,N as ie,g as B}from"./CJ6NVX5O.js";import{f as ae,h as ue}from"./rJCbAzvX.js";import{t as le}from"./huNUflEE.js";const O=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"],pe=["p","h1","h2","h3","h4","h5","h6","li"];function j(e,r){return e.type===r||typeof e.type=="object"&&e.type.tag===r||e.tag===r}function w(e){return j(e,"text")||j(e,Symbol.for("v-txt"))}function $(e){return Array.isArray(e.children)||typeof e.children=="string"?e.children:typeof e.children?.default=="function"?e.children.default():[]}function x(e){if(!e)return"";if(Array.isArray(e))return e.map(x).join("");if(w(e))return e.value||e.children||"";const r=$(e);return Array.isArray(r)?r.map(x).filter(Boolean).join(""):""}function M(e,r=[]){if(Array.isArray(e))return e.flatMap(n=>M(n,r));let t=e;return r.some(n=>n==="*"||j(e,n))&&(t=$(e)||e,!Array.isArray(t)&&pe.some(n=>j(e,n))&&(t=[t])),t}function F(e,r=[]){return e=Array.isArray(e)?e:[e],r.length?e.flatMap(t=>F(M(t,[r[0]]),r.slice(1))).filter(t=>!(w(t)&&x(t).trim()==="")):e}function q(e,r=[]){return typeof r=="string"&&(r=r.split(/[,\s]/).map(t=>t.trim()).filter(Boolean)),r.length?F(e,r).reduce((t,n)=>(w(n)?typeof t[t.length-1]=="string"?t[t.length-1]+=n.children:t.push(n.children):t.push(n),t),[]):e}function ce(e,r){return r.reduce((t,n)=>{const o=fe(e,n);return o!==void 0&&(t[n]=o),t},{})}function fe(e,r){return r.split(".").reduce((t,n)=>t&&t[n],e)}const D="default",H=/^@|^v-on:/,k=/^:|^v-bind:/,me=/^v-model/,de=["select","textarea","input"],_e=["math","svg"],ge=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(e=>[e,`prose-${e}`])),ye=G({name:"MDCRenderer",props:{body:{type:Object,required:!0},data:{type:Object,default:()=>({})},class:{type:[String,Object],default:void 0},tag:{type:[String,Boolean],default:void 0},prose:{type:Boolean,default:void 0},components:{type:Object,default:()=>({})},unwrap:{type:[Boolean,String],default:!1}},async setup(e){const t=Z()?.appContext?.app?.$nuxt,n=t?.$route||t?._route,{mdc:o}=t?.$config?.public||{},i=P(()=>({...o?.components?.prose&&e.prose!==!1?ge:{},...o?.components?.map||{},...V(e.data?.mdc?.components||{}),...e.components})),p=P(()=>{const a=(e.body?.children||[]).map(u=>u.tag||u.type).filter(u=>!O.includes(u));return Array.from(new Set(a)).sort().join(".")}),l=J({...e.data});Y(()=>e.data,a=>{Object.assign(l,a)}),await Ee(e.body,{tags:i.value});function c(a,u){const d=a.split(".").length-1;return a.split(".").reduce((_,g,C)=>C==d&&_?(_[g]=u,_[g]):typeof _=="object"?_[g]:void 0,l)}return{tags:i,contentKey:p,route:n,runtimeData:l,updateRuntimeData:c}},render(e){const{tags:r,tag:t,body:n,data:o,contentKey:i,route:p,unwrap:l,runtimeData:c,updateRuntimeData:a}=e;if(!n)return null;const u={...o,tags:r,$route:p,runtimeData:c,updateRuntimeData:a},d=t!==!1?S(t||u.component?.name||u.component||"div"):void 0;return d?I(d,{...u.component?.props,class:e.class,...this.$attrs,key:i},{default:_}):_?.();function _(){const g=U(n,I,{documentMeta:u,parentScope:u,resolveComponent:S});return g?.default?l?q(g.default(),typeof l=="string"?l.split(" "):["*"]):g.default():null}}});function he(e,r,t,n){const{documentMeta:o,parentScope:i,resolveComponent:p}=t;if(e.type==="text")return r(A,e.value);if(e.type==="comment")return r(ee,null,e.value);const l=e.tag,c=z(e,o.tags);if(e.tag==="binding")return be(e,r,o,i);const a=W(c)?_=>_:p;if(c==="script")return r("pre",{class:"script-to-pre"},`<script>
`+x(e)+`
<\/script>`);const u=a(c);typeof u=="object"&&(u.tag=l);const d=ve(e,o);return n&&(d.key=n),r(u,d,U(e,r,{documentMeta:o,parentScope:{...i,...d},resolveComponent:a}))}function U(e,r,t){const{documentMeta:n,parentScope:o,resolveComponent:i}=t,l=(e.children||[]).reduce((a,u)=>{if(!je(u))return a[D].children.push(u),a;const d=Ae(u);return a[d]=a[d]||{props:{},children:[]},u.type==="element"&&(a[d].props=u.props,a[d].children.push(...u.children||[])),a},{[D]:{props:{},children:[]}});return Object.entries(l).reduce((a,[u,{props:d,children:_}])=>(_.length&&(a[u]=(g={})=>{const C=ce(g,Object.keys(d||{}));let s=_.map((f,m)=>he(f,r,{documentMeta:n,parentScope:{...o,...C},resolveComponent:i},String(f.props?.key||m)));return d?.unwrap&&(s=q(s,d.unwrap)),xe(s)}),a),{})}function be(e,r,t,n={}){const o={...t.runtimeData,...n,$document:t,$doc:t},i=/\.|\[(\d+)\]/,l=(e.props?.value.trim().split(i).filter(Boolean)).reduce((a,u)=>{if(a&&u in a)return typeof a[u]=="function"?a[u]():a[u]},o),c=e.props?.defaultValue;return r(A,l??c??"")}function ve(e,r){const{tag:t="",props:n={}}=e;return Object.keys(n).reduce(function(o,i){if(i==="__ignoreMap")return o;const p=n[i];if(me.test(i))return Pe(i,p,o,r,{native:de.includes(t)});if(i==="v-bind")return Te(i,p,o,r);if(H.test(i))return Ce(i,p,o,r);if(k.test(i))return Oe(i,p,o,r);const{attribute:l}=ae(ue,i);return Array.isArray(p)&&p.every(c=>typeof c=="string")?(o[l]=p.join(" "),o):(o[l]=p,o)},{})}function Pe(e,r,t,n,{native:o}){const i=e.match(/^v-model:([^=]+)/)?.[1]||"modelValue",p=o?"value":i,l=o?"onInput":`onUpdate:${i}`;return t[p]=E(r,n.runtimeData),t[l]=c=>{n.updateRuntimeData(r,o?c.target?.value:c)},t}function Te(e,r,t,n){const o=E(r,n);return t=Object.assign(t,o),t}function Ce(e,r,t,n){return e=e.replace(H,""),t.on=t.on||{},t.on[e]=()=>E(r,n),t}function Oe(e,r,t,n){return e=e.replace(k,""),t[e]=E(r,n),t}const S=e=>{if(typeof e=="string"){if(O.includes(e))return e;const r=L(T(e),!1);return!e||r?.name==="AsyncComponentWrapper"||typeof r=="string"?r:"setup"in r?R(()=>new Promise(t=>t(r))):r}return e};function E(e,r){const t=e.split(".").reduce((n,o)=>typeof n=="object"?n[o]:void 0,r);return typeof t>"u"?te(e):t}function Ae(e){let r="";for(const t of Object.keys(e.props||{}))if(!(!t.startsWith("#")&&!t.startsWith("v-slot:"))){r=t.split(/[:#]/,2)[1];break}return r||D}function je(e){return e.tag==="template"}function W(e){return _e.includes(e)}function xe(e){const r=[];for(const t of e){const n=r[r.length-1];t.type===A&&n?.type===A?n.children=n.children+t.children:r.push(t)}return r}async function Ee(e,r){if(!e)return;const t=Array.from(new Set(n(e,r)));await Promise.all(t.map(async o=>{if(o?.render||o?.ssrRender||o?.__ssrInlineRender)return;const i=S(o);i?.__asyncLoader&&!i.__asyncResolved&&await i.__asyncLoader()}));function n(o,i){const p=o.tag;if(o.type==="text"||p==="binding"||o.type==="comment")return[];const l=z(o,i.tags);if(W(l))return[];const c=[];o.type!=="root"&&!O.includes(l)&&c.push(l);for(const a of o.children||[])c.push(...n(a,i));return c}}function z(e,r){const t=e.tag;return!t||typeof e.props?.__ignoreMap<"u"?t:r[t]||r[T(t)]||r[N(e.tag)]||t}const Re=Object.assign(ye,{__name:"MDCRenderer"}),De=()=>y(()=>import("./CPqvBnND.js"),__vite__mapDeps([0,1,2,3]),import.meta.url),Se=()=>y(()=>import("./CcpPKkvo.js"),__vite__mapDeps([4,1,2,5]),import.meta.url),we=()=>y(()=>import("./6JexNWJB.js"),__vite__mapDeps([6,1,2,7]),import.meta.url),Ie=()=>y(()=>import("./QZdGjYG4.js"),__vite__mapDeps([8,1,2,9]),import.meta.url),Be=()=>y(()=>import("./CJ6NVX5O.js").then(e=>e.aX),__vite__mapDeps([1,2]),import.meta.url),Ve=()=>y(()=>import("./C-9W4heR.js"),__vite__mapDeps([10,1,2,11]),import.meta.url),Le=()=>y(()=>import("./BQFFzFyZ.js"),__vite__mapDeps([12,1,2,13]),import.meta.url),Ne=()=>y(()=>import("./PQ-PEuXS.js"),__vite__mapDeps([14,1,2,15]),import.meta.url),$e=()=>y(()=>import("./0YGzGCMc.js"),__vite__mapDeps([16,1,2,17]),import.meta.url),Me=()=>y(()=>import("./BJTUo3Rn.js"),__vite__mapDeps([18,1,2,19]),import.meta.url),K=["ZhiluHeader","ProseBlockquote","ProseEm","ProseH1","ProseH2","ProseH3","ProseH4","ProseH5","ProseH6","ProseHr","ProseImg","ProseLi","ProseOl","ProseP","ProseScript","ProseStrong","ProseTbody","ProseTd","ProseTh","ProseThead","ProseTr","ProseUl","Icon"],Q=["Alert","Blur","ProseA","ProseCode","ProsePre","ProseTable","Quote","Tab","Tip","VideoEmbed"],Fe=Object.freeze(Object.defineProperty({__proto__:null,Alert:De,Blur:Se,ProseA:we,ProseCode:Ie,ProsePre:Be,ProseTable:Ve,Quote:Le,Tab:Ne,Tip:$e,VideoEmbed:Me,globalComponents:K,localComponents:Q},Symbol.toStringTag,{value:"Module"})),Ue={__name:"ContentRenderer",props:{value:{type:Object,required:!0},excerpt:{type:Boolean,default:!1},tag:{type:String,default:"div"},components:{type:Object,default:()=>({})},data:{type:Object,default:()=>({})},prose:{type:Boolean,default:void 0},class:{type:[String,Object],default:void 0},unwrap:{type:[Boolean,String],default:!1}},setup(e){const r=["render","ssrRender","__ssrInlineRender"],t=e,n=!1,o=P(()=>{let s=t.value.body||t.value;return t.excerpt&&t.value.excerpt&&(s=t.value.excerpt),s.type==="minimal"||s.type==="minimark"?le({value:s.value}):s}),i=P(()=>!o.value?.children?.length),p=P(()=>{const{body:s,excerpt:f,...m}=t.value;return{...m,...t.data}}),l=Object.fromEntries(["p","a","blockquote","code","pre","code","em","h1","h2","h3","h4","h5","h6","hr","img","ul","ol","li","strong","table","thead","tbody","td","th","tr","script"].map(s=>[s,`prose-${s}`])),{mdc:c}=re().public||{},a=P(()=>({...c?.components?.prose&&t.prose!==!1?l:{},...c?.components?.map||{},...V(t.data?.mdc?.components||{}),...t.components})),u=P(()=>o.value?_(o.value,{tags:a.value}):{});function d(s){let f=s;if(typeof s=="string"){if(O.includes(s))return s;if(K.includes(T(s))?f=L(s,!1):Q.includes(T(s))&&(f=R(()=>y(()=>Promise.resolve().then(()=>Fe),void 0,import.meta.url).then(h=>{const b=h[T(s)];return b?b():void 0}))),typeof f=="string")return f}if(!f)return f;const m=f;return"__asyncLoader"in m?m:"setup"in m?R(()=>Promise.resolve(m)):m}function _(s,f){if(!s)return;const m=Array.from(new Set(g(s,f))),v={};for(const[h,b]of m)if(!v[h]){if(typeof b=="object"&&r.some(X=>Object.hasOwnProperty.call(b,X))){v[h]=b;continue}v[h]=d(b)}return v}function g(s,f){const m=s.tag;if(s.type==="text"||m==="binding"||s.type==="comment")return[];const v=C(s,f.tags),h=[];s.type!=="root"&&!O.includes(v)&&h.push([m,v]);for(const b of s.children||[])h.push(...g(b,f));return h}function C(s,f){const m=s.tag;return!m||typeof s.props?.__ignoreMap<"u"?m:f[m]||f[T(m)]||f[N(s.tag)]||m}return(s,f)=>i.value?oe(s.$slots,"empty",{key:1,body:o.value,data:p.value,dataContentId:B(n)?e.value.id:void 0}):(se(),ne(Re,{key:0,body:o.value,data:p.value,class:ie(t.class),tag:t.tag,prose:t.prose,unwrap:t.unwrap,components:u.value,"data-content-id":B(n)?e.value.id:void 0},null,8,["body","data","class","tag","prose","unwrap","components","data-content-id"]))}};export{Ue as _};
