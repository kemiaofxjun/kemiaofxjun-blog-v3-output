import{_ as v}from"./CnGBGQSu.js";import{d as m,m as _,o as k,a9 as w,q as g,e as s,w as $,c as i,g as e,t as l,f as u,A as a,aa as p,B as b}from"./1KzXhdvF.js";const x={key:0,class:"error"},B={key:1,class:"poetry-content"},C={class:"sentence"},h={class:"info"},D={key:2,class:"loading"},j=m({__name:"Poetry",setup(P){const n=_(null),r=_(null);function c(o){const t=`https://www.bing.com/search?q=${encodeURIComponent(o)}`;window.open(t,"_blank")}return k(()=>{typeof window.jinrishici<"u"?window.jinrishici.load(o=>{try{n.value={content:o.data.content,author:o.data.origin.author,dynasty:o.data.origin.dynasty,title:o.data.origin.title}}catch(t){console.error("解析诗词数据失败:",t),r.value="诗词数据解析失败"}},o=>{console.error("获取诗词失败:",o),r.value="获取诗词失败"}):r.value="今日诗词 SDK 未加载"}),(o,t)=>{const f=v,d=w("tip");return s(),g(f,{card:"",title:"今日诗词"},{default:$(()=>[e(r)?(s(),i("div",x,l(e(r)),1)):e(n)?(s(),i("div",B,[u("div",C,l(e(n).content),1),u("div",h,[t[3]||(t[3]=a(" 【",-1)),p((s(),i("span",{class:"clickable",onClick:t[0]||(t[0]=y=>c(e(n).dynasty))},[a(l(e(n).dynasty),1)])),[[d,{content:`搜索: ${e(n).dynasty}`}]]),t[4]||(t[4]=a("】",-1)),p((s(),i("span",{class:"clickable",onClick:t[1]||(t[1]=y=>c(e(n).author))},[a(l(e(n).author),1)])),[[d,{content:`搜索: ${e(n).author}`}]]),t[5]||(t[5]=a("《",-1)),p((s(),i("span",{class:"clickable",onClick:t[2]||(t[2]=y=>c(e(n).title))},[a(l(e(n).title),1)])),[[d,{content:`搜索: ${e(n).title}`}]]),t[6]||(t[6]=a("》 ",-1))])])):(s(),i("div",D," 正在加载今日诗词.... "))]),_:1})}}}),N=Object.assign(b(j,[["__scopeId","data-v-3919f2f7"]]),{__name:"WidgetPoetry"});export{N as default};
