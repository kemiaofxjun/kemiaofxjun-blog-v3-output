import{_ as F}from"./BHm2bFMo.js";import{_ as L}from"./Bc9Ps29I.js";import{d as U,p as Y,q as j,e as D,N as H,g as b,aa as I,c as u,o as n,j as x,k as o,m as v,F as A,r as C,a as s,t as d,l as R,b as V,H as W,T as Z,n as $}from"./DQsdLRFV.js";import{u as q,a as z,b as E,g as G}from"./n0sKlTgg.js";import"./C8SPWqow.js";import"./BKCsaUlz.js";import"./BuPcyRIH.js";import"./D7_tCD9a.js";const P={class:"archive"},J={class:"archive-title text-creative"},K={class:"archive-year"},M={class:"archive-age"},Q={class:"archive-info"},X={class:"archive-list"},ee=U({__name:"archive",async setup(te){let i,f;const h=Y();j({title:"归档",meta:[{name:"description",content:`${h.title}的所有文章归档。`}]});const k=h.stats.birthYear;D().setAside(["blog-stats","blog-tech","blog-log"]);const{data:w}=([i,f]=H(()=>q()),i=await i,f(),i),{listSorted:S,isAscending:l,sortOrder:r}=z(w),{category:p,categories:N,listCategorized:B}=E(S),y=b(()=>{const a=Object.entries(G(B.value,e=>new Date(e[r.value]||0).getFullYear()));return l.value?a:a.reverse()}),O=b(()=>y.value.reduce((a,[e,_])=>{const g=_?.reduce((t,c)=>t+c.readingTime.words,0)||0;return a[e]=I(g),a},{}));return(a,e)=>{const _=F,g=L;return n(),u("div",P,[x(_,{"is-ascending":o(l),"onUpdate:isAscending":e[0]||(e[0]=t=>v(l)?l.value=t:null),"sort-order":o(r),"onUpdate:sortOrder":e[1]||(e[1]=t=>v(r)?r.value=t:null),category:o(p),"onUpdate:category":e[2]||(e[2]=t=>v(p)?p.value=t:null),categories:o(N)},null,8,["is-ascending","sort-order","category","categories"]),(n(!0),u(A,null,C(o(y),([t,c])=>(n(),u("section",{key:t,class:"archive-group"},[s("div",J,[s("h2",K,d(t),1),s("div",M,[s("span",null,d(Number(t)-o(k)),1),e[3]||(e[3]=s("span",{class:"age-label"},"岁",-1))]),s("div",Q,[s("span",null,d(o(O)[t])+"字",1),s("span",null,d(c?.length)+"篇",1)])]),s("menu",X,[x(Z,{appear:"",name:"float-in"},{default:R(()=>[(n(!0),u(A,null,C(c,(m,T)=>(n(),V(g,W({key:m.path},{ref_for:!0},m,{to:m.path,"use-updated":o(r)==="updated",style:{"--delay":`${T*.03}s`}}),null,16,["to","use-updated","style"]))),128))]),_:2},1024)])]))),128))])}}}),de=$(ee,[["__scopeId","data-v-21bf0b4c"]]);export{de as default};
