import{u as P,k as d,ak as m,j as v,d as h,ai as k,aj as C,e as l,f as u,n as f,q as I,F as _,r as N,t as y,U as M,p as V,_ as A}from"./Dw6R6eid.js";import{u as $}from"./BhRmcnQC.js";function q(r,o){const e=P(),{initialPage:t=1,perPage:s=e.pagination.perPage||10,bindQuery:a=!1}=o??{},i=d(()=>Math.ceil(m(r).length/s)||t);function n(c){const g=Number(c);return g>=1&&g<=i.value?g:t}const p=a?$(a,t.toString(),{transform:n,mode:"push"}):v(t),b=d(()=>{const c=(p.value-1)*s;return m(r).slice(c,c+s)});return{totalPages:i,page:p,listPaged:b}}function F(r,o,e=1){const t=Math.max(2,Math.min(r-e,o-2*e)),s=Math.min(o,t+2*e),a=Array.from({length:s-t+1},(i,n)=>t+n);return t>2&&a.unshift(Number.NEGATIVE_INFINITY),t>1&&a.unshift(1),s<o-1&&a.push(Number.POSITIVE_INFINITY),s<o&&a.push(o),a}const E=["aria-label"],T=["aria-label","onClick","textContent"],j={key:1,class:"pagination-ellipsis"},x=h({__name:"Pagination",props:k({totalPages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const o=r,e=C(r,"modelValue"),t=d(()=>F(e.value,o.totalPages));return(s,a)=>{const i=I;return u(),l("nav",{class:"pagination","aria-label":`第${e.value}页，共${s.totalPages}页`},[f(i,{disabled:e.value<=1,icon:"ph:arrow-fat-left-duotone","aria-label":"上一页",onClick:a[0]||(a[0]=n=>e.value--)},null,8,["disabled"]),(u(!0),l(_,null,N(V(t),n=>(u(),l(_,{key:n},[Number.isFinite(n)?(u(),l("button",{key:0,class:M(["pagination-button",{active:n===e.value}]),"aria-label":`第${n}页`,onClick:p=>e.value=n,textContent:y(n)},null,10,T)):(u(),l("span",j,"…"))],64))),128)),f(i,{disabled:e.value>=s.totalPages,icon:"ph:arrow-fat-right-duotone","aria-label":"下一页",onClick:a[1]||(a[1]=n=>e.value++)},null,8,["disabled"])],8,E)}}}),w=Object.assign(A(x,[["__scopeId","data-v-da86f5ab"]]),{__name:"ZPagination"});export{w as P,q as u};
