import{u as P,f as d,ak as m,r as v,d as h,ai as k,aj as C,g as l,h as u,k as f,p as I,F as _,m as N,t as y,U as M,n as V,_ as A}from"./3v-0kA9K.js";import{u as $}from"./CA-KkXrU.js";function w(r,o){const e=P(),{initialPage:t=1,perPage:s=e.pagination.perPage||10,bindQuery:a=!1}=o??{},i=d(()=>Math.ceil(m(r).length/s)||t);function n(c){const p=Number(c);return p>=1&&p<=i.value?p:t}const g=a?$(a,t.toString(),{transform:n,mode:"push"}):v(t),b=d(()=>{const c=(g.value-1)*s;return m(r).slice(c,c+s)});return{totalPages:i,page:g,listPaged:b}}function F(r,o,e=1){const t=Math.max(2,Math.min(r-e,o-2*e)),s=Math.min(o,t+2*e),a=Array.from({length:s-t+1},(i,n)=>t+n);return t>2&&a.unshift(Number.NEGATIVE_INFINITY),t>1&&a.unshift(1),s<o-1&&a.push(Number.POSITIVE_INFINITY),s<o&&a.push(o),a}const E=["aria-label"],T=["aria-label","onClick","textContent"],x={key:1,class:"pagination-ellipsis"},B=h({__name:"Pagination",props:k({totalPages:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:["update:modelValue"],setup(r){const o=r,e=C(r,"modelValue"),t=d(()=>F(e.value,o.totalPages));return(s,a)=>{const i=I;return u(),l("nav",{class:"pagination","aria-label":`第${e.value}页，共${s.totalPages}页`},[f(i,{disabled:e.value<=1,icon:"ph:arrow-fat-left-duotone","aria-label":"上一页",onClick:a[0]||(a[0]=n=>e.value--)},null,8,["disabled"]),(u(!0),l(_,null,N(V(t),n=>(u(),l(_,{key:n},[Number.isFinite(n)?(u(),l("button",{key:0,class:M(["pagination-button",{active:n===e.value}]),"aria-label":`第${n}页`,onClick:g=>e.value=n,textContent:y(n)},null,10,T)):(u(),l("span",x,"…"))],64))),128)),f(i,{disabled:e.value>=s.totalPages,icon:"ph:arrow-fat-right-duotone","aria-label":"下一页",onClick:a[1]||(a[1]=n=>e.value++)},null,8,["disabled"])],8,E)}}}),O=Object.assign(A(B,[["__scopeId","data-v-da86f5ab"]]),{__name:"ZPagination"});export{O as P,w as u};
