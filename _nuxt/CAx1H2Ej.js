import{_ as v}from"./BiGtlVrS.js";import{d as k,f as _,s as m,a8 as w,b as g,o as s,l as b,c as i,k as n,t as l,a as u,z as a,a9 as p,n as $}from"./UQv0nfdE.js";const x={key:0,class:"error"},C={key:1,class:"poetry-content"},h={class:"sentence"},B={class:"info"},D={key:2,class:"loading"},j=k({__name:"Poetry",setup(P){const e=_(null),r=_(null);function c(o){const t=`https://www.bing.com/search?q=${encodeURIComponent(o)}`;window.open(t,"_blank")}return m(()=>{typeof window.jinrishici<"u"?window.jinrishici.load(o=>{try{e.value={content:o.data.content,author:o.data.origin.author,dynasty:o.data.origin.dynasty,title:o.data.origin.title}}catch(t){console.error("解析诗词数据失败:",t),r.value="诗词数据解析失败"}},o=>{console.error("获取诗词失败:",o),r.value="获取诗词失败"}):r.value="今日诗词 SDK 未加载"}),(o,t)=>{const f=v,d=w("tip");return s(),g(f,{card:"",title:"今日诗词"},{default:b(()=>[n(r)?(s(),i("div",x,l(n(r)),1)):n(e)?(s(),i("div",C,[u("div",h,l(n(e).content),1),u("div",B,[t[3]||(t[3]=a(" 【",-1)),p((s(),i("span",{class:"clickable",onClick:t[0]||(t[0]=y=>c(n(e).dynasty))},[a(l(n(e).dynasty),1)])),[[d,{content:`搜索: ${n(e).dynasty}`}]]),t[4]||(t[4]=a("】",-1)),p((s(),i("span",{class:"clickable",onClick:t[1]||(t[1]=y=>c(n(e).author))},[a(l(n(e).author),1)])),[[d,{content:`搜索: ${n(e).author}`}]]),t[5]||(t[5]=a("《",-1)),p((s(),i("span",{class:"clickable",onClick:t[2]||(t[2]=y=>c(n(e).title))},[a(l(n(e).title),1)])),[[d,{content:`搜索: ${n(e).title}`}]]),t[6]||(t[6]=a("》 ",-1))])])):(s(),i("div",D," 正在加载今日诗词.... "))]),_:1})}}}),O=Object.assign($(j,[["__scopeId","data-v-3919f2f7"]]),{__name:"WidgetPoetry"});export{O as default};
