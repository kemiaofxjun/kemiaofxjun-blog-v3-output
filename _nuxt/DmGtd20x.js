import{d as H,p as at,f as A,c as k,o as p,a as d,F as N,r as P,i as D,t as S,j as v,x as lt,l as j,y as X,k as _,z as rt,A as pt,B as Z,n as q,g as G,C as ht,D as U,E as mt,s as Y,h as _t,b as M,G as gt,v as ot,H as kt,I as vt,J as yt,K as bt,L as St,M as xt,N as Ct,e as $t,O as wt,q as Tt,P as It,Q as Ft,R as L}from"./UQv0nfdE.js";import{_ as Ot,u as At}from"./BeGWuBRf.js";import{_ as jt}from"./BsxoywsJ.js";import Nt from"./DaKqnJwp.js";import{_ as Et}from"./BGOFF_hq.js";import{q as Mt}from"./CVDjDoVG.js";import"./rJCbAzvX.js";const Dt={class:"z-footer"},Pt={class:"footer-nav"},zt={key:0},Lt={class:"nav-text"},Gt={class:"footer-nav-group"},Rt={class:"nav-text"},Bt=["innerHTML"],Ht=H({__name:"FeedGroup",setup(s){const e=at(),t=A([]),a=A(""),u=A(!1);function f(){const l=[...Z.flatMap(c=>c.entries.map(o=>({text:o.author,url:o.link,icon:"ph:link-bold"})))].sort(()=>.5-Math.random());t.value=l.slice(0,4)}async function h(){try{const m=await fetch("https://yiyan.050815.xyz/?encode=text");a.value=await m.text(),u.value=!0}catch(m){console.error("获取一言失败:",m),a.value="暂无法获取一言...",u.value=!0}}f(),h();function n(){f()}return(m,l)=>{const c=X,o=lt;return p(),k("footer",Dt,[d("nav",Pt,[(p(!0),k(N,null,P(_(e).footer.nav,(r,i)=>(p(),k("div",{key:i,class:"footer-nav-group"},[r.title?(p(),k("h3",zt,S(r.title),1)):D("",!0),d("menu",null,[(p(!0),k(N,null,P(r.items,(g,y)=>(p(),k("li",{key:y},[v(o,{to:g.url},{default:j(()=>[v(c,{name:g.icon},null,8,["name"]),d("span",Lt,S(g.text),1)]),_:2},1032,["to"])]))),128))])]))),128)),d("div",Gt,[d("h3",null,[l[0]||(l[0]=rt(" 友链 ",-1)),d("button",{"aria-label":"刷新",class:"refresh-button",title:"刷新友链",onClick:n},[v(c,{name:"ph:arrow-clockwise-bold"})])]),d("menu",null,[(p(!0),k(N,null,P(_(t),(r,i)=>(p(),k("li",{key:i},[v(o,{to:r.url,external:""},{default:j(()=>[v(c,{name:r.icon},null,8,["name"]),d("span",Rt,S(r.text),1)]),_:2},1032,["to"])]))),128)),d("li",null,[v(o,{to:"/link",external:""},{default:j(()=>[...l[1]||(l[1]=[d("span",{class:"nav-text"},"更多...",-1)])]),_:1})])])])]),d("p",{innerHTML:_(e).footer.copyright},null,8,Bt),d("p",{class:pt(["hitokoto",{"hitokoto-fade-in":_(u)}])},S(_(a)),3)])}}}),qt=Object.assign(q(Ht,[["__scopeId","data-v-69bbaf2d"]]),{__name:"FeedGroup"}),Wt={class:"avatar"},Vt={class:"title"},Jt={key:0,style:{position:"absolute",top:"0"}},Kt={class:"site-content"},Qt={class:"site-info"},Ut={class:"text-creative"},Xt=["title"],Zt={class:"desc-content"},Yt={class:"date"},te={key:0},ee=H({__name:"FeedCard",props:{author:{},sitenick:{},title:{},desc:{},link:{},feed:{},icon:{},avatar:{},archs:{},date:{},comment:{},error:{},inspect:{type:Boolean}},setup(s){const e=s,t=G(()=>e.title??e.sitenick??e.author),a=G(()=>ht(U(e.link,!0))),u=G(()=>mt(e.link)),f=A(!1);function h(n){n=U(n);let m="red";return n===U(e.link)?m="transparent":n==="webp.se"?m="yellow":n==="qlogo.cn"?m="lightblue":n==="wsrv.nl"&&(m="lightgreen"),{border:`2px solid ${m}`,boxSizing:"content-box"}}return Y(()=>{f.value=!1}),(n,m)=>{const l=gt,c=Ot,o=X,r=_t("Tooltip");return p(),M(r,{delay:200,interactive:"","hide-on-click":"toggle"},{content:j(()=>[d("div",Kt,[v(l,{class:"site-icon",src:n.icon,alt:_(t)},null,8,["src","alt"]),d("div",Qt,[d("h3",Ut,S(_(t)),1),d("code",{class:"domain",title:_(a)},[d("span",null,S(("getDomain"in n?n.getDomain:_(kt))(n.link)),1),_(u)?(p(),M(o,{key:0,class:"domain-mark",name:_(u)},null,8,["name"])):D("",!0)],8,Xt)]),(p(!0),k(N,null,P(n.archs,i=>(p(),M(o,{key:i,class:"arch",name:("getArchIcon"in n?n.getArchIcon:_(vt))(i),title:i},null,8,["name","title"]))),128))]),d("div",Zt,[d("div",Yt,S(n.date),1),d("p",null,S(n.error??n.desc),1),n.comment?(p(),k("p",te,[v(o,{name:"ph:chat-centered-dots-bold"}),rt(" "+S(n.comment),1)])):D("",!0)])]),default:j(()=>[v(_(lt),{class:"feed-card gradient-card",to:n.error?void 0:n.link,"data-error":n.error},{default:j(()=>[d("div",Wt,[_(f)?(p(),M(c,{key:0},{default:j(()=>[v(l,{src:n.icon,title:n.icon,style:ot(h(n.icon))},null,8,["src","title","style"]),v(l,{src:n.avatar,title:n.avatar,style:ot(h(n.avatar))},null,8,["src","title","style"])]),_:1})):(p(),M(l,{key:1,src:n.avatar,alt:n.author,loading:"lazy",title:n.feed?void 0:"无订阅源"},null,8,["src","alt","title"])),n.feed?D("",!0):(p(),M(o,{key:2,class:"no-feed",name:"ph:bell-simple-slash-bold"}))]),d("span",null,S(n.author),1),d("span",Vt,S(n.sitenick),1),_(f)?(p(),k("span",Jt,S(_(t)),1)):D("",!0)]),_:1},8,["to","data-error"])]),_:1})}}}),ne=Object.assign(q(ee,[["__scopeId","data-v-c61a230e"]]),{__name:"FeedCard"});function oe(s,e){let t=0;for(;t<s.length;t++){const{text:f,ranges:h}=e[t]??{};if(s[t]!==f||h?.some(n=>n.collapsed))break}let a=s.length-1,u=e.length-1;for(;a>=0&&u>=0;a--,u--){const{text:f,ranges:h}=e[u]??{};if(s[a]!==f||h?.some(n=>n.collapsed))break}return t>a&&([t,a]=[a,t]),t=Math.max(0,t),a=Math.min(s.length-1,a)+1,s.length===e.length&&t+1===a?[t,a]:se(s,t,a)}function se(s,e,t){const a=u(Math.max(0,e+t-s.length));e-=a,t+=a;function u(c){const o=s.slice(0,e).indexOf(s[t],c);if(o===-1)return 0;for(let r=o,i=t;r<e-1;i++,r++)if(s[r+1]!==s[i+1])return u(c+1);return e-o}const f=s.join(`
`),h=s.slice(0,e).join(`
`).length,n=s.slice(0,t).join(`
`).length;let m=0;for(let c=e-1,o=n-1;c<t&&o>=h;c--){const r=s[c],i=f.lastIndexOf(r,o);if(i!==-1&&i>=h)m++,o=i-1;else break}let l=0;for(let c=t,o=h;c>=e&&o<n;c++){const r=s[c],i=f.indexOf(r,o);if(i!==-1&&i<n)l++,o=i+1;else break}return[e-m,t+l]}function ae(s,e){let t=0,a;return function(...u){a&&(clearTimeout(a),a=void 0);const f=performance.now();!t||f-t>=e?(s.apply(this,u),t=f):a=setTimeout(()=>{s.apply(this,u),t=performance.now(),a=void 0},e+t-f)}}function le(s){let e=!1;return function(...t){return e?!1:(e=!0,s.apply(this,t),!0)}}function re(s,e){if(s.length!==e.length)return!1;for(let t=0;t<s.length;t++)if(s[t]!==e[t])return!1;return!0}function ie(s){return{mount:e};function e(t,a){const{lang:u,themes:f={light:"min-light",dark:"min-dark"},defaultTheme:h="light",selector:n=b=>`.${b}`,defaultSelector:m=":root",watch:l=!0,delay:c=33.4}=a,o=new CSSStyleSheet;document.adoptedStyleSheets.push(o);const r=new Map,i=[];function g(b,x){for(const{range:T,name:C}of x)CSS.highlights.get(C)?.delete(T),r.get(C)?.delete(T);for(const{range:T,color:C,theme:I,name:F}of b){const W=I===h;let z=CSS.highlights.get(F);z||(CSS.highlights.set(F,z=new Highlight),z.priority=W?0:1);let O=r.get(F);if(!O){r.set(F,O=new Set);const V=`${W?m:n(I)}::highlight(${F}) { color: ${C}; }`;o.insertRule(V)}z.add(T),O.add(T)}}const y=ae(()=>{const{innerText:b}=t,x=b.split(`
`),T=ce(t),[C,I]=oe(x,i),F=I-x.length+i.length,W=i.splice(F);for(let $=C;$<F;$++)g([],i[$]?.info??[]);const z=i.at(-1)?.lastGrammarState;i.length=I-1,i.fill(null,C,I-1),i.push(st({lastGrammarState:z}),...W);let O=x.slice(0,C).reduce(($,R)=>$+R.length+1,0);const V=ue(b,T,O);for(let $=C;$<x.length;$++){const R=x[$],K=s.codeToTokens(R,{lang:u,themes:f,cssVariablePrefix:"",defaultColor:!1,grammarState:i[$-1]?.lastGrammarState}),tt=[],Q=[];for(const B of K.tokens[0]){if(!B.content.trim().length)continue;const[ct,dt]=V(O+B.offset),[ut,ft]=V(O+B.offset+B.content.length),J=document.createRange();J.setStart(ct,dt),J.setEnd(ut,ft),tt.push(J),Q.push(...de(B,J))}const E=i[$]??=st();g(Q,E.info),E.text=R,E.offset=O,E.ranges=tt,E.info=Q;const et=E.lastGrammarState?.getScopes(),nt=K.grammarState?.getScopes(),it=et&&nt&&re(et,nt);if(E.lastGrammarState=K.grammarState,!it)O+=R.length+1;else break}},c);return l&&t.addEventListener("input",y),y(),{dispose:le(()=>{l&&t.removeEventListener("input",y);const b=document.adoptedStyleSheets.indexOf(o);document.adoptedStyleSheets.splice(b,1);for(const[x,T]of r){const C=CSS.highlights.get(x);for(const I of T)C?.delete(I)}}),update:y}}}function ce(s){const e=document.createTreeWalker(s,NodeFilter.SHOW_TEXT),t=[];let a;for(;a=e.nextNode();)t.push(a);return t}function st(s={}){return{text:"",offset:0,lastGrammarState:void 0,ranges:[],info:[],...s}}function*de(s,e){if(typeof s.htmlStyle=="object")for(const t in s.htmlStyle){const a=s.htmlStyle[t],u=`shiki-${t}-${a.slice(1).toLowerCase()}`;yield{range:e,color:a,theme:t,name:u}}}function ue(s,e,t){let a=0,u=0,f=!1;return t>0&&h(t),h;function h(n){for(;a<e.length;a++){const m=e[a],{textContent:l}=m;if(l)if(f||(u=s.indexOf(l,u),f=!0),u+l.length<n)u+=l.length,f=!1;else break}return[e[a],n-u]}}const fe={class:"copy"},pe={key:0,class:"prompt"},he=["textContent"],me=H({__name:"Copy",props:{prompt:{type:[String,Boolean],default:"$"},code:{},lang:{}},setup(s){const e=s,t=G(()=>e.prompt!==!0),a=G(()=>e.lang??yt(e.prompt)),u=A(!1),f=bt("code-input"),h=St(),{copy:n,copied:m}=xt(f);function l(){f.value&&(f.value.textContent=e.code??"",f.value.dispatchEvent(new Event("input")),u.value=!1)}function c(r){const{data:i,inputType:g}=r;(i?.includes(`
`)||g==="insertLineBreak")&&r.preventDefault()}function o(r){u.value=e.code!==r.target.textContent}return Y(async()=>{const r=await h.load();await h.loadLang(a.value),ie(r).mount(f.value,h.getOptions(a.value))}),(r,i)=>{const g=X;return p(),k("code",fe,[_(t)?(p(),k("span",pe,S(r.prompt),1)):D("",!0),d("div",{ref:"code-input",contenteditable:"plaintext-only",class:"code scrollcheck-x",spellcheck:"false",onBeforeinput:i[0]||(i[0]=y=>c(y)),onInput:i[1]||(i[1]=y=>o(y)),textContent:S(r.code)},null,40,he),_(u)?(p(),k("button",{key:1,class:"operation","aria-label":"恢复原始内容",onClick:l},[v(g,{name:"ph:arrow-u-up-left-bold"})])):D("",!0),d("button",{class:"operation","aria-label":"复制",onClick:i[2]||(i[2]=y=>_(n)())},[v(g,{name:_(m)?"ph:check-bold":"ph:copy-bold"},null,8,["name"])])])}}}),_e=Object.assign(q(me,[["__scopeId","data-v-d21228a2"]]),{__name:"Copy"}),ge={id:"flink_top"},ke={id:"flink-banners"},ve={class:"flink-banners-title"},ye={class:"banners-title-small"},be={class:"banners-title-big"},Se={id:"skills-tags-group-all"},xe={class:"tags-group-wrapper"},Ce=["href","title"],$e=["title","src","alt"],we=["href","title"],Te=["title","src","alt"],Ie="https://kemeow.kemiaosw.top",Fe=H({__name:"FlinkTopCard",setup(s){Ct();function e(l){return l.startsWith("http://")||l.startsWith("https://")?l:l.startsWith("")?`${Ie}${l}`:l}const t=A({error_img:{flink:"https://img.314926.xyz/images/2025/08/19/404.gif"}}),a=A([{title:"友情链接",description:"与数百名博主无限进步",buttonTextOne:"随机访问",buttonTextTwo:"申请友链"}]),u=A([]),f=A(!0);Y(()=>{setTimeout(()=>{u.value=Z,f.value=!1},500),((c,o)=>new Promise((r,i)=>{if(document.querySelector(`script[src="${c}"]`)){console.log("JS脚本已加载"),r();return}const g=document.createElement("script");g.src=c,g.type="text/javascript",g.async=!0,g.onload=()=>{console.log("脚本加载完成"),r()},g.onerror=y=>{console.error("脚本加载失败",y),i(y)},document.head.appendChild(g)}))("https://cdn.cbd.int/kemiaofxjun-cdn@1.0.1/js/blog_nuxt/FlinkTop.js").then(()=>{console.log("友链顶部重要JS加载完毕")}).catch(c=>{console.error("友链顶部重要JS加载完毕",c)})});function h(l){const c=l.indexOf("!");return c!==-1?l.substring(0,c):l}function n(l){const c=l.target;c.onerror=null,c.src=e(t.value.error_img.flink)}const m=G(()=>u.value.flatMap(l=>{const c=[...l.entries],o=c.filter((w,b)=>b%2===0),r=c.filter((w,b)=>b%2===1),i=l.hundredSuffix||"",g=[],y=Math.min(o.length,r.length);for(let w=0;w<y;w++){const b=o[w],x=r[w];b&&x&&g.push({even:b,odd:x,evenAvatar:h(b.avatar),oddAvatar:h(x.avatar),hundredSuffix:i})}return g}));return(l,c)=>(p(),k("div",ge,[d("div",ke,[(p(!0),k(N,null,P(a.value,(o,r)=>(p(),k("div",{key:r,class:"banner-top-box"},[d("div",ve,[d("div",ye,S(o.title),1),d("div",be,S(o.description),1)])]))),128)),d("div",Se,[d("div",xe,[(p(!0),k(N,null,P(m.value,(o,r)=>(p(),k("div",{key:r,class:"tags-group-icon-pair",style:{"margin-left":"1rem"}},[d("a",{class:"tags-group-icon no-text-decoration",target:"_blank",rel:"noopener",href:e(o.even.link),title:o.even.author},[d("img",{class:"no-lightbox",title:o.even.author,src:e(o.evenAvatar+o.hundredSuffix),alt:o.even.author,onError:n},null,40,$e)],8,Ce),d("a",{class:"tags-group-icon no-text-decoration",target:"_blank",rel:"noopener",href:e(o.odd.link),title:o.odd.author},[d("img",{class:"no-lightbox",title:o.odd.author,src:e(o.oddAvatar+o.hundredSuffix),alt:o.odd.author,onError:n},null,40,Te)],8,we)]))),128))])])])]))}}),Oe=Object.assign(q(Fe,[["__scopeId","data-v-b09de01c"]]),{__name:"CardFlinkTopCard"}),Ae={class:"link-tab"},je={key:1,class:"text-center"},Ne=H({__name:"link",async setup(s){let e,t;const a=at(),u=$t(),{data:f}=([e,t]=wt(()=>At("/link",()=>Mt("content").path("/link").first())),e=await e,t(),e);Tt({title:"友链",meta:[{property:"og:type",content:"profile"},{name:"description",content:`${a.title}的友链页面，收集了添加他为友链的网站和他订阅的网站列表。`}]}),u.setAside(["blog-stats","blog-tech","blog-log"]);const h={博主:L.author,标题:L.title,介绍:L.desc,网址:L.link,头像:L.avatar};return(n,m)=>{const l=qt,c=ne,o=_e,r=jt,i=Nt,g=Et;return p(),k(N,null,[v(Oe),v(l,{feeds:_(Z)},null,8,["feeds"]),v(i,{tabs:["我的博客信息","申请友链"],center:""},{tab1:j(()=>[d("div",Ae,[v(c,It(Ft(_(L))),null,16),(p(),k(N,null,P(h,(y,w)=>v(o,{key:w,prompt:w,code:y},null,8,["prompt","code"])),64))])]),tab2:j(()=>[_(f)?(p(),M(r,{key:0,value:_(f),class:"article"},null,8,["value"])):(p(),k("p",je," 可于 link.md 配置友链补充说明。 "))]),_:1}),v(g)],64)}}}),Re=q(Ne,[["__scopeId","data-v-aba58971"]]);export{Re as default};
