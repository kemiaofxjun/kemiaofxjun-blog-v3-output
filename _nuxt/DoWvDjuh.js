import{d as q,f as B,x as ue,y as U,z as fe,r as M,o as Y,A as pe,l as N,h as p,q as E,k as S,n as g,B as me,i as m,g as h,j as D,C as he,v as X,D as oe,t as b,E as _e,F as A,m as L,G as ge,H as ke,_ as W,T as ve,I as ye,J as be,K as Se,L as Ce,M as $e,N as xe,O as se,u as we,a as Te,P as Ie,b as Oe,Q as Fe,R as Ae,S as G}from"./CIvyPGFl.js";import{_ as je,u as Ne}from"./BpfkUXI3.js";import{_ as Ee}from"./CYKhGltE.js";import De from"./CAEyKSgP.js";import{_ as Pe}from"./CDdAwl0F.js";import{q as Ge}from"./DcM6Nhiw.js";import"./rJCbAzvX.js";const Me={class:"avatar"},Be={class:"title"},Le={key:0,style:{position:"absolute",top:"0"}},Re={class:"site-content"},ze={class:"site-info"},qe={class:"text-creative"},We=["title"],Ve={class:"desc-content"},He={class:"date"},Je={key:0},Ke=q({__name:"FeedCard",props:{author:{},sitenick:{},title:{},desc:{},link:{},feed:{},icon:{},avatar:{},archs:{},date:{},comment:{},error:{},inspect:{type:Boolean}},setup(s){const t=s,e=B(()=>t.title??t.sitenick??t.author),o=B(()=>ue(U(t.link,!0))),d=B(()=>fe(t.link)),i=M(!1);function f(n){n=U(n);let k="red";return n===U(t.link)?k="transparent":n==="webp.se"?k="yellow":n==="qlogo.cn"?k="lightblue":n==="wsrv.nl"&&(k="lightgreen"),{border:`2px solid ${k}`,boxSizing:"content-box"}}return Y(()=>{i.value=!1}),(n,k)=>{const l=he,u=je,a=oe,c=pe("Tooltip");return p(),N(c,{delay:200,interactive:"","hide-on-click":"toggle"},{content:E(()=>[m("div",Re,[S(l,{class:"site-icon",src:n.icon,alt:g(e)},null,8,["src","alt"]),m("div",ze,[m("h3",qe,b(g(e)),1),m("code",{class:"domain",title:g(o)},[m("span",null,b(("getDomain"in n?n.getDomain:g(_e))(n.link)),1),g(d)?(p(),N(a,{key:0,class:"domain-mark",name:g(d)},null,8,["name"])):D("",!0)],8,We)]),(p(!0),h(A,null,L(n.archs,r=>(p(),N(a,{key:r,class:"arch",name:("getArchIcon"in n?n.getArchIcon:g(ge))(r),title:r},null,8,["name","title"]))),128))]),m("div",Ve,[m("div",He,b(n.date),1),m("p",null,b(n.error??n.desc),1),n.comment?(p(),h("p",Je,[S(a,{name:"ph:chat-centered-dots-bold"}),ke(" "+b(n.comment),1)])):D("",!0)])]),default:E(()=>[S(g(me),{class:"feed-card gradient-card",to:n.error?void 0:n.link,"data-error":n.error},{default:E(()=>[m("div",Me,[g(i)?(p(),N(u,{key:0},{default:E(()=>[S(l,{src:n.icon,title:n.icon,style:X(f(n.icon))},null,8,["src","title","style"]),S(l,{src:n.avatar,title:n.avatar,style:X(f(n.avatar))},null,8,["src","title","style"])]),_:1})):(p(),N(l,{key:1,src:n.avatar,alt:n.author,loading:"lazy",title:n.feed?void 0:"无订阅源"},null,8,["src","alt","title"])),n.feed?D("",!0):(p(),N(a,{key:2,class:"no-feed",name:"ph:bell-simple-slash-bold"}))]),m("span",null,b(n.author),1),m("span",Be,b(n.sitenick),1),g(i)?(p(),h("span",Le,b(g(e)),1)):D("",!0)]),_:1},8,["to","data-error"])]),_:1})}}}),ae=Object.assign(W(Ke,[["__scopeId","data-v-c61a230e"]]),{__name:"FeedCard"}),Qe={key:0,class:"feed-label text-creative"},Ue={class:"feed-title"},Xe={class:"feed-desc"},Ye=q({__name:"FeedGroup",props:{label:{},feeds:{}},setup(s){function t(e){let o=0;for(const d of e.link)o=o*31+d.charCodeAt(0);return o%1e3/1e3}return(e,o)=>{const d=ae;return p(),h(A,null,[e.label?(p(),h("h2",Qe,b(e.label),1)):D("",!0),(p(!0),h(A,null,L(e.feeds,i=>(p(),h("section",{key:i.name,class:"feed-group"},[m("h3",Ue,b(i.name),1),m("p",Xe,b(i.desc),1),S(ve,{tag:"menu",class:"feed-list",appear:"",name:"float-in"},{default:E(()=>[(p(!0),h(A,null,L(i.entries,f=>(p(),h("li",{key:f.link,style:X(`--delay: ${t(f)}s;`)},[S(d,ye({ref_for:!0},f),null,16)],4))),128))]),_:2},1024)]))),128))],64)}}}),Ze=Object.assign(W(Ye,[["__scopeId","data-v-41888f29"]]),{__name:"FeedGroup"});function et(s,t){let e=0;for(;e<s.length;e++){const{text:i,ranges:f}=t[e]??{};if(s[e]!==i||f?.some(n=>n.collapsed))break}let o=s.length-1,d=t.length-1;for(;o>=0&&d>=0;o--,d--){const{text:i,ranges:f}=t[d]??{};if(s[o]!==i||f?.some(n=>n.collapsed))break}return e>o&&([e,o]=[o,e]),e=Math.max(0,e),o=Math.min(s.length-1,o)+1,s.length===t.length&&e+1===o?[e,o]:tt(s,e,o)}function tt(s,t,e){const o=d(Math.max(0,t+e-s.length));t-=o,e+=o;function d(u){const a=s.slice(0,t).indexOf(s[e],u);if(a===-1)return 0;for(let c=a,r=e;c<t-1;r++,c++)if(s[c+1]!==s[r+1])return d(u+1);return t-a}const i=s.join(`
`),f=s.slice(0,t).join(`
`).length,n=s.slice(0,e).join(`
`).length;let k=0;for(let u=t-1,a=n-1;u<e&&a>=f;u--){const c=s[u],r=i.lastIndexOf(c,a);if(r!==-1&&r>=f)k++,a=r-1;else break}let l=0;for(let u=e,a=f;u>=t&&a<n;u++){const c=s[u],r=i.indexOf(c,a);if(r!==-1&&r<n)l++,a=r+1;else break}return[t-k,e+l]}function nt(s,t){let e=0,o;return function(...d){o&&(clearTimeout(o),o=void 0);const i=performance.now();!e||i-e>=t?(s.apply(this,d),e=i):o=setTimeout(()=>{s.apply(this,d),e=performance.now(),o=void 0},t+e-i)}}function ot(s){let t=!1;return function(...e){return t?!1:(t=!0,s.apply(this,e),!0)}}function st(s,t){if(s.length!==t.length)return!1;for(let e=0;e<s.length;e++)if(s[e]!==t[e])return!1;return!0}function at(s){return{mount:t};function t(e,o){const{lang:d,themes:i={light:"min-light",dark:"min-dark"},defaultTheme:f="light",selector:n=y=>`.${y}`,defaultSelector:k=":root",watch:l=!0,delay:u=33.4}=o,a=new CSSStyleSheet;document.adoptedStyleSheets.push(a);const c=new Map,r=[];function _(y,C){for(const{range:T,name:$}of C)CSS.highlights.get($)?.delete(T),c.get($)?.delete(T);for(const{range:T,color:$,theme:I,name:O}of y){const V=I===f;let P=CSS.highlights.get(O);P||(CSS.highlights.set(O,P=new Highlight),P.priority=V?0:1);let F=c.get(O);if(!F){c.set(O,F=new Set);const H=`${V?k:n(I)}::highlight(${O}) { color: ${$}; }`;a.insertRule(H)}P.add(T),F.add(T)}}const v=nt(()=>{const{innerText:y}=e,C=y.split(`
`),T=rt(e),[$,I]=et(C,r),O=I-C.length+r.length,V=r.splice(O);for(let x=$;x<O;x++)_([],r[x]?.info??[]);const P=r.at(-1)?.lastGrammarState;r.length=I-1,r.fill(null,$,I-1),r.push(ne({lastGrammarState:P}),...V);let F=C.slice(0,$).reduce((x,R)=>x+R.length+1,0);const H=it(y,T,F);for(let x=$;x<C.length;x++){const R=C[x],K=s.codeToTokens(R,{lang:d,themes:i,cssVariablePrefix:"",defaultColor:!1,grammarState:r[x-1]?.lastGrammarState}),Z=[],Q=[];for(const z of K.tokens[0]){if(!z.content.trim().length)continue;const[le,ie]=H(F+z.offset),[ce,de]=H(F+z.offset+z.content.length),J=document.createRange();J.setStart(le,ie),J.setEnd(ce,de),Z.push(J),Q.push(...lt(z,J))}const j=r[x]??=ne();_(Q,j.info),j.text=R,j.offset=F,j.ranges=Z,j.info=Q;const ee=j.lastGrammarState?.getScopes(),te=K.grammarState?.getScopes(),re=ee&&te&&st(ee,te);if(j.lastGrammarState=K.grammarState,!re)F+=R.length+1;else break}},u);return l&&e.addEventListener("input",v),v(),{dispose:ot(()=>{l&&e.removeEventListener("input",v);const y=document.adoptedStyleSheets.indexOf(a);document.adoptedStyleSheets.splice(y,1);for(const[C,T]of c){const $=CSS.highlights.get(C);for(const I of T)$?.delete(I)}}),update:v}}}function rt(s){const t=document.createTreeWalker(s,NodeFilter.SHOW_TEXT),e=[];let o;for(;o=t.nextNode();)e.push(o);return e}function ne(s={}){return{text:"",offset:0,lastGrammarState:void 0,ranges:[],info:[],...s}}function*lt(s,t){if(typeof s.htmlStyle=="object")for(const e in s.htmlStyle){const o=s.htmlStyle[e],d=`shiki-${e}-${o.slice(1).toLowerCase()}`;yield{range:t,color:o,theme:e,name:d}}}function it(s,t,e){let o=0,d=0,i=!1;return e>0&&f(e),f;function f(n){for(;o<t.length;o++){const k=t[o],{textContent:l}=k;if(l)if(i||(d=s.indexOf(l,d),i=!0),d+l.length<n)d+=l.length,i=!1;else break}return[t[o],n-d]}}const ct={class:"copy"},dt={key:0,class:"prompt"},ut=["textContent"],ft=q({__name:"Copy",props:{prompt:{type:[String,Boolean],default:"$"},code:{},lang:{}},setup(s){const t=s,e=B(()=>t.prompt!==!0),o=B(()=>t.lang??be(t.prompt)),d=M(!1),i=Se("code-input"),f=Ce(),{copy:n,copied:k}=$e(i);function l(){i.value&&(i.value.textContent=t.code??"",i.value.dispatchEvent(new Event("input")),d.value=!1)}function u(c){const{data:r,inputType:_}=c;(r?.includes(`
`)||_==="insertLineBreak")&&c.preventDefault()}function a(c){d.value=t.code!==c.target.textContent}return Y(async()=>{const c=await f.load();await f.loadLang(o.value),at(c).mount(i.value,f.getOptions(o.value))}),(c,r)=>{const _=oe;return p(),h("code",ct,[g(e)?(p(),h("span",dt,b(c.prompt),1)):D("",!0),m("div",{ref:"code-input",contenteditable:"plaintext-only",class:"code scrollcheck-x",spellcheck:"false",onBeforeinput:r[0]||(r[0]=v=>u(v)),onInput:r[1]||(r[1]=v=>a(v)),textContent:b(c.code)},null,40,ut),g(d)?(p(),h("button",{key:1,class:"operation","aria-label":"恢复原始内容",onClick:l},[S(_,{name:"ph:arrow-u-up-left-bold"})])):D("",!0),m("button",{class:"operation","aria-label":"复制",onClick:r[2]||(r[2]=v=>g(n)())},[S(_,{name:g(k)?"ph:check-bold":"ph:copy-bold"},null,8,["name"])])])}}}),pt=Object.assign(W(ft,[["__scopeId","data-v-d21228a2"]]),{__name:"Copy"}),mt={id:"flink_top"},ht={id:"flink-banners"},_t={class:"flink-banners-title"},gt={class:"banners-title-small"},kt={class:"banners-title-big"},vt={id:"skills-tags-group-all"},yt={class:"tags-group-wrapper"},bt=["href","title"],St=["title","src","alt"],Ct=["href","title"],$t=["title","src","alt"],xt="https://kemeow.kemiaosw.top",wt=q({__name:"FlinkTopCard",setup(s){xe();function t(l){return l.startsWith("http://")||l.startsWith("https://")?l:l.startsWith("")?`${xt}${l}`:l}const e=M({error_img:{flink:"https://img.314926.xyz/images/2025/08/19/404.gif"}}),o=M([{title:"友情链接",description:"与数百名博主无限进步",buttonTextOne:"随机访问",buttonTextTwo:"申请友链"}]),d=M([]),i=M(!0);Y(()=>{setTimeout(()=>{d.value=se,i.value=!1},500),((u,a)=>new Promise((c,r)=>{if(document.querySelector(`script[src="${u}"]`)){console.log("JS脚本已加载"),c();return}const _=document.createElement("script");_.src=u,_.type="text/javascript",_.async=!0,_.onload=()=>{console.log("脚本加载完成"),c()},_.onerror=v=>{console.error("脚本加载失败",v),r(v)},document.head.appendChild(_)}))("https://cdn.cbd.int/kemiaofxjun-cdn@1.0.1/js/blog_nuxt/FlinkTop.js").then(()=>{console.log("友链顶部重要JS加载完毕")}).catch(u=>{console.error("友链顶部重要JS加载完毕",u)})});function f(l){const u=l.indexOf("!");return u!==-1?l.substring(0,u):l}function n(l){const u=l.target;u.onerror=null,u.src=t(e.value.error_img.flink)}const k=B(()=>d.value.flatMap(l=>{const u=[...l.entries],a=u.filter((w,y)=>y%2===0),c=u.filter((w,y)=>y%2===1),r=l.hundredSuffix||"",_=[],v=Math.min(a.length,c.length);for(let w=0;w<v;w++){const y=a[w],C=c[w];y&&C&&_.push({even:y,odd:C,evenAvatar:f(y.avatar),oddAvatar:f(C.avatar),hundredSuffix:r})}return _}));return(l,u)=>(p(),h("div",mt,[m("div",ht,[(p(!0),h(A,null,L(o.value,(a,c)=>(p(),h("div",{key:c,class:"banner-top-box"},[m("div",_t,[m("div",gt,b(a.title),1),m("div",kt,b(a.description),1)])]))),128)),m("div",vt,[m("div",yt,[(p(!0),h(A,null,L(k.value,(a,c)=>(p(),h("div",{key:c,class:"tags-group-icon-pair",style:{"margin-left":"1rem"}},[m("a",{class:"tags-group-icon no-text-decoration",target:"_blank",rel:"noopener",href:t(a.even.link),title:a.even.author},[m("img",{class:"no-lightbox",title:a.even.author,src:t(a.evenAvatar+a.hundredSuffix),alt:a.even.author,onError:n},null,40,St)],8,bt),m("a",{class:"tags-group-icon no-text-decoration",target:"_blank",rel:"noopener",href:t(a.odd.link),title:a.odd.author},[m("img",{class:"no-lightbox",title:a.odd.author,src:t(a.oddAvatar+a.hundredSuffix),alt:a.odd.author,onError:n},null,40,$t)],8,Ct)]))),128))])])])]))}}),Tt=Object.assign(W(wt,[["__scopeId","data-v-b09de01c"]]),{__name:"CardFlinkTopCard"}),It={class:"link-tab"},Ot={key:1,class:"text-center"},Ft=q({__name:"link",async setup(s){let t,e;const o=we(),d=Te(),{data:i}=([t,e]=Ie(()=>Ne("/link",()=>Ge("content").path("/link").first())),t=await t,e(),t);Oe({title:"友链",meta:[{property:"og:type",content:"profile"},{name:"description",content:`${o.title}的友链页面，收集了添加他为友链的网站和他订阅的网站列表。`}]}),d.setAside(["blog-stats","blog-tech","blog-log"]);const f={博主:G.author,标题:G.title,介绍:G.desc,网址:G.link,头像:G.avatar};return(n,k)=>{const l=Ze,u=ae,a=pt,c=Ee,r=De,_=Pe;return p(),h(A,null,[S(Tt),S(l,{feeds:g(se)},null,8,["feeds"]),S(r,{tabs:["我的博客信息","申请友链"],center:""},{tab1:E(()=>[m("div",It,[S(u,Fe(Ae(g(G))),null,16),(p(),h(A,null,L(f,(v,w)=>S(a,{key:w,prompt:w,code:v},null,8,["prompt","code"])),64))])]),tab2:E(()=>[g(i)?(p(),N(c,{key:0,value:g(i),class:"article"},null,8,["value"])):(p(),h("p",Ot," 可于 link.md 配置友链补充说明。 "))]),_:1}),S(_)],64)}}}),Mt=W(Ft,[["__scopeId","data-v-aba58971"]]);export{Mt as default};
